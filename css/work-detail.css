/* ===========================================================================
   WorkDetail 樣式重構（全資訊統合+可維護可讀性提升）
   ───
   [視覺體驗總覽]
   - 所有顏色/間距/字級/radius 皆優先以 CSS 變數集中控管。
   - 統一 mobile/desktop 變數命名規則，方便一鍵全站主題切換。
   - 同功能區（標題、卡片、footer...等）樣式分組維護，便於查找/維護。
   - 互動特效、不同 hover/brand 狀態分段整理，快速局改。

   [變動說明]
   1. 合併/刪除重複屬性與相近結構（如 radius、background、間距）。
   2. 統整所有 RWD（@media）: 手機僅覆寫異動差異，保留 desktop 為預設。
   3. hover/主題色陰影分區整理，避免卡片多重覆寫。
=========================================================================== */

/* === 外層框架與背景 === */
.work-detail-wrapper {
  background: var(--detail-bg, #0E0C0B); /* 主頁底，預設深底色 */
  padding-top: var(--section-padding-y, 8rem);
  padding-bottom: var(--section-padding-y, 8rem);
}

/* === 標題(主/副)、標籤、Header 統整 === */
.detail-header-container {
  max-width: var(--workdetail-header-max-width, 48rem);
  margin: var(--workdetail-header-mt, 5rem) auto var(--workdetail-header-mb, 5rem) auto;
}
/* 標籤文字（案型標/小標） */
.detail-label {
  display: inline-block;
  font-size: var(--workdetail-label-size, 9px);
  color: var(--brand-accent, #EF4444);
  letter-spacing: var(--workdetail-label-tracking, 0.5em);
  margin-bottom: var(--workdetail-header-label-mb, 1.5rem);
  opacity: 0.8;
}
/* 主/副標，整併共同字重，細分尺寸/顏色 */
.detail-main-title, .detail-subtitle-text {
  font-weight: 300;
}
.detail-main-title {
  font-size: var(--workdetail-title-size, 2rem);
  letter-spacing: var(--workdetail-title-tracking, 0.22em);
  margin-bottom: var(--workdetail-title-mb, 1.5rem);
  color: var(--workdetail-title-color, #EAE2D6);
}
.detail-subtitle-text {
  font-size: var(--workdetail-subtitle-size, 1.25rem);
  color: var(--workdetail-subtitle-color, rgba(255,255,255,0.4));
  margin-bottom: var(--workdetail-subtitle-mb, 3rem);
}
/* 垂直分隔條 */
.detail-vertical-divider {
  width: 1px;
  height: var(--workdetail-divider-h, 4rem);
  background: var(--logo-color,rgba(230, 57, 70, 0.3));
  margin: 0 auto var(--workdetail-divider-mb, 3rem);
}
/* 簡介文字 */
.detail-description-text {
  font-size: var(--workdetail-desc-size, 0.82rem);
  line-height: var(--workdetail-desc-leading, 1.8);
  letter-spacing: var(--workdetail-desc-tracking, 0.15em);
  color: var(--workdetail-desc-color, #EAE2D6B2);
  max-width: var(--workdetail-desc-max-w, 36rem);
  margin: 0 auto;
}

/* === 卡片瀑布流區：統合所有卡片與 grid 規則 === */
.waterfall-grid {
  max-width: var(--content-max-width, 80rem);
  gap: var(--waterfall-gap, 2rem);
}
.waterfall-card {
  break-inside: avoid;
  background: transparent;
  margin-bottom: var(--waterfall-item-mb, 2rem);
  border-radius: var(--waterfall-card-radius, 1rem);
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.03);
  transition:
    transform 1.2s cubic-bezier(0.2, 0.8, 0.2, 1),
    box-shadow 0.8s ease,
    filter 0.8s ease;
  will-change: transform, box-shadow;
}
.waterfall-card:hover {
  box-shadow:
    0 25px 50px rgba(0, 0, 0, 0.6),
    0 0 45px var(--detail-glow-color, rgba(255, 255, 255, 0.06));
  border: 1px solid rgba(255, 255, 255, 0.1);
}
/* 卡片主圖，嚴格維持原比例，防變形，骨架/亮度效果統一 */
.waterfall-image-main {
  width: 100%;
  height: auto;
  aspect-ratio: auto; /* 保留原圖比例，體驗多元 */
  min-height: 200px;  /* 保底佔位，高度統一，避免卡片閃爍 */
  object-fit: contain; /* 視覺美感優先，永不壓縮/裁切內容 */
  background: rgba(255,255,255,0.02); /* Skeleton UX */
  border-radius: var(--waterfall-image-radius, 1rem);
  margin: 0;
  transition: transform 1.2s cubic-bezier(0.2, 0.8, 0.2, 1);
  transform: scale(1);
  will-change: transform;
  image-rendering: -webkit-optimize-contrast;
  backface-visibility: hidden;
}
/* 懸浮視覺效果 */
.waterfall-card:hover .waterfall-image-main {
  filter: brightness(1.1);
  transform: scale(1.05);
}
/* 懸浮底色遮罩統整 */
.waterfall-hover-mask {
  background: var(--waterfall-hover-bg, rgba(0,0,0,0.40));
  border-radius: var(--waterfall-image-radius, 1rem);
  transition: opacity 0.8s ease;
}

/* === 卡片標籤/按鈕/索引群，統整同屬性 === */
.waterfall-hover-btn,
.waterfall-index-tag {
  border-radius: 0.5em;
}
.waterfall-hover-btn {
  font-size: var(--waterfall-hover-label-size, 9px);
  letter-spacing: var(--waterfall-hover-label-tracking, 0.2em);
  color: var(--waterfall-hover-label-color, #FFF);
  border: var(--waterfall-hover-label-border, 1px solid rgba(255,255,255,0.3));
  padding: var(--waterfall-hover-label-px, 0.75rem 0.45rem);
}
.waterfall-index-tag {
  padding: var(--waterfall-item-index-py, 0.75rem) var(--waterfall-item-index-px, 0.25rem);
  border-radius: 0.4em;
  background: transparent;
}
.waterfall-index-number {
  font-size: var(--waterfall-item-index-size, 8px);
  letter-spacing: var(--waterfall-item-index-tracking, 0.20em);
  color: var(--waterfall-item-index-color, rgba(255,255,255,0.3));
}

/* === Footer區（返回＋裝飾線）統一整理 === */
.back-nav-footer {
  margin-top: var(--workdetail-footer-mt, 8rem);
}
.back-line {
  display: block;
  width: var(--workdetail-footer-line-w, 3rem);
  height: 1px;
  background: var(--workdetail-footer-line-bg, rgba(255,255,255,0.12));
  margin-bottom: var(--workdetail-footer-line-mb, 1rem);
  transition: width 0.5s;
}
.back-label {
  font-size: var(--workdetail-footer-label-size, 9px);
  letter-spacing: var(--workdetail-footer-label-tracking, 0.40em);
  color: var(--workdetail-footer-label-color, rgba(255,255,255,0.50));
  transition: color 0.2s;
}

/* === 響應式覆寫（手機 RWD，統一於此）=== */
@media (max-width: 768px) {
  .work-detail-wrapper {
    padding-top: var(--section-padding-y-mobile, 4rem);
    padding-bottom: var(--section-padding-y-mobile, 4rem);
  }
  .detail-main-title {
    font-size: var(--workdetail-title-size-mobile, 1.5rem);
    letter-spacing: 0.15em;
  }
  .waterfall-grid {
    gap: 1rem;
  }
  .waterfall-card {
    border-radius: var(--waterfall-card-radius-mobile, 0.75rem);
  }
  .waterfall-image-main,
  .waterfall-hover-mask {
    border-radius: var(--waterfall-image-radius-mobile, 0.75rem);
    margin: 0;
  }
}

/* === 品牌主題 hover 光暈：統一使用 CSS 變數，由 WorkDetail.tsx 動態注入 === */
/* 已移除 .project-xxx 特定樣式，改用 var(--detail-glow-color) 實現資料驅動 */