/* ============================================================================
   WorkDetail 樣式重構（分區邏輯統整，資訊歸檔優先）
   [視覺經驗白話補充]
   - 所有間距、顏色與字級統一由 CSS 變數控制，確保全畫面自動連動主題/主色。
   - 所有 radius/spacing 皆 mobile/desktop 拆分，便於一處同步，結構清晰。
============================================================================ */

/* === 區塊基礎：外層框架與背色 === */
.work-detail-wrapper {
  background: var(--detail-bg, #0E0C0B);
  padding-top: var(--section-padding-y, 8rem);
  padding-bottom: var(--section-padding-y, 8rem);
}

/* === Header 區域（主標、副標與標籤分組）=== */
.detail-header-container {
  max-width: var(--workdetail-header-max-width, 48rem);
  margin: var(--workdetail-header-mt, 5rem) auto var(--workdetail-header-mb, 5rem) auto;
}
.detail-label {
  display: inline-block;
  font-size: var(--workdetail-label-size, 9px);
  color: var(--brand-accent, #EF4444);
  letter-spacing: var(--workdetail-label-tracking, 0.5em);
  margin-bottom: var(--workdetail-header-label-mb, 1.5rem);
  opacity: 0.8;
}
.detail-main-title,
.detail-subtitle-text {
  font-weight: 300;
}
.detail-main-title {
  font-size: var(--workdetail-title-size, 2rem);
  letter-spacing: var(--workdetail-title-tracking, 0.22em);
  margin-bottom: var(--workdetail-title-mb, 1.5rem);
  color: var(--workdetail-title-color, #EAE2D6);
}
.detail-subtitle-text {
  font-size: var(--workdetail-subtitle-size, 1.25rem);
  color: var(--workdetail-subtitle-color, rgba(255,255,255,0.4));
  margin-bottom: var(--workdetail-subtitle-mb, 3rem);
}
.detail-vertical-divider {
  width: 1px;
  height: var(--workdetail-divider-h, 4rem);
  background: var(--logo-color,rgba(230, 57, 70, 0.3));
  margin: 0 auto var(--workdetail-divider-mb, 3rem);
}
.detail-description-text {
  font-size: var(--workdetail-desc-size, 0.82rem);
  line-height: var(--workdetail-desc-leading, 1.8);
  letter-spacing: var(--workdetail-desc-tracking, 0.15em);
  color: var(--workdetail-desc-color, #EAE2D6B2);
  max-width: var(--workdetail-desc-max-w, 36rem);
  margin: 0 auto;
}

/* === 卡片瀑布流區（組合結構統整）=== */
/* 
  [體感：所有間距、尺寸、radius 及背景均集中變數化，hover、影子等分組歸一，避免分散管理]
  .waterfall-grid            → 網格基座定義
  .waterfall-card            → 卡片本體
  .waterfall-image-main      → 主要圖片統一 object-fit: contain，不強制比例，適應各式長圖或方圖，避免上下多餘留白
  .waterfall-hover-mask      → 懸浮底色遮罩
  .waterfall-hover-btn,
  .waterfall-index-tag,
  .waterfall-index-number    → 標籤組合歸一說明
*/
.waterfall-grid {
  max-width: var(--content-max-width, 80rem);
  gap: var(--waterfall-gap, 2rem);
}
.waterfall-card {
  break-inside: avoid;
  background: transparent;
  margin-bottom: var(--waterfall-item-mb, 2rem);
  border-radius: var(--waterfall-card-radius, 1rem);
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.03);
  transition:
    transform 1.2s cubic-bezier(0.2, 0.8, 0.2, 1), 
    box-shadow 0.8s ease,
    filter 0.8s ease;
  will-change: transform, box-shadow;
}
.waterfall-card:hover {
  box-shadow:
    0 20px 40px rgba(0, 0, 0, 0.4),
    0 0 25px rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.1);
}
/**
 * [中文註解]
 * 卡片主圖（waterfall-image-main）：
 * 視覺體驗：移除固定 4:3 → 改為 aspect-ratio: auto，確保不同圖片尺寸（橫圖、直圖、長條網頁案例）都可自然呈現、無上下過多留白。
 * 同時加上 min-height: 200px，確保骨架載入時畫面不閃爍、佔位感受仍佳。
 * object-fit: contain 保證圖片內容100%不會被裁切或擠壓變形，優化展現彈性。
 * 骨架底色仍輕柔微亮，不會讓空圖區塊顯得突兀。
 */
.waterfall-image-main {
  width: 100%;
  height: auto;
  aspect-ratio: auto; /* [已移除4:3強制比例，圖片原生適應，畫面更彈性] */
  min-height: 200px;  /* [加強UX：每張卡片至少有穩定預佔高度，避免內容閃動] */
  object-fit: contain;
  /* 骨架底色：極淡呼吸灰塊，載入前提示有內容進行中，符合 Skeleton Loading UX */
  background: rgba(255, 255, 255, 0.02);
  border-radius: var(--waterfall-image-radius, 1rem);
  margin: 0;
  transition: transform 1.2s cubic-bezier(0.2, 0.8, 0.2, 1);
  transform: scale(1);
  will-change: transform;
  image-rendering: -webkit-optimize-contrast;
  backface-visibility: hidden;
}
.waterfall-card:hover .waterfall-image-main {
  filter: brightness(1.1);
  transform: scale(1.05);
  will-change: transform;
}
.waterfall-hover-mask {
  background: var(--waterfall-hover-bg, rgba(0,0,0,0.40));
  border-radius: var(--waterfall-image-radius, 1rem);
  transition: opacity 0.8s ease;
}

/* === 卡片標籤群（輔助案標、索引、按鈕等歸一）=== */
.waterfall-hover-btn, .waterfall-index-tag {
  border-radius: 0.5em;
}
.waterfall-hover-btn {
  font-size: var(--waterfall-hover-label-size, 9px);
  letter-spacing: var(--waterfall-hover-label-tracking, 0.2em);
  color: var(--waterfall-hover-label-color, #FFF);
  border: var(--waterfall-hover-label-border, 1px solid rgba(255,255,255,0.3));
  padding: var(--waterfall-hover-label-px, 0.75rem 0.45rem);
}
.waterfall-index-tag {
  padding: var(--waterfall-item-index-py, 0.75rem) var(--waterfall-item-index-px, 0.25rem);
  border-radius: 0.4em;
  background: transparent;
}
.waterfall-index-number {
  font-size: var(--waterfall-item-index-size, 8px);
  letter-spacing: var(--waterfall-item-index-tracking, 0.20em);
  color: var(--waterfall-item-index-color, rgba(255,255,255,0.3));
}

/* === Footer（返回區/水平線）統一 === */
.back-nav-footer {
  margin-top: var(--workdetail-footer-mt, 8rem);
}
.back-line {
  display: block;
  width: var(--workdetail-footer-line-w, 3rem);
  height: 1px;
  background: var(--workdetail-footer-line-bg, rgba(255,255,255,0.12));
  margin-bottom: var(--workdetail-footer-line-mb, 1rem);
  transition: width 0.5s;
}
.back-label {
  font-size: var(--workdetail-footer-label-size, 9px);
  letter-spacing: var(--workdetail-footer-label-tracking, 0.40em);
  color: var(--workdetail-footer-label-color, rgba(255,255,255,0.50));
  transition: color 0.2s;
}

/* === 響應式（RWD區塊合併，統一維護）=== */
@media (max-width: 768px) {
  .work-detail-wrapper {
    padding-top: var(--section-padding-y-mobile, 4rem);
    padding-bottom: var(--section-padding-y-mobile, 4rem);
  }
  .detail-main-title {
    font-size: var(--workdetail-title-size-mobile, 1.5rem);
    letter-spacing: 0.15em;
  }
  .waterfall-grid {
    gap: 1rem;
  }
  .waterfall-card {
    border-radius: var(--waterfall-card-radius-mobile, 0.75rem);
  }
  .waterfall-image-main,
  .waterfall-hover-mask {
    border-radius: var(--waterfall-image-radius-mobile, 0.75rem);
    margin: 0;
  }
}

/* === 主題 hover 光暈（各品牌色彩分色，歸類一區）=== */
.project-personal-branding .waterfall-card:hover {
  box-shadow: 
    0 25px 50px rgba(0, 0, 0, 0.6),
    0 0 45px rgba(59, 130, 246, 0.28);
}
.project-logo-design .waterfall-card:hover {
  box-shadow:
    0 25px 50px rgba(0, 0, 0, 0.5),
    0 0 35px rgba(168, 85, 247, 0.25);
}